import{r as t,h as i,H as e}from"./p-3de00bdf.js";import{f as s,s as r}from"./p-0796a3d5.js";const l=class{constructor(i){t(this,i),this.filename=null,this.format="column",this.filter=null,this.showFilter=!1,this.candidates=[],this.questions=[],this.loading=!0}async componentDidLoad(){this.questions=await s(this.filename,this.format),r.filter=this.filter,this.loading=!1}filterHandler(t){this.filter=t.detail.value,r.filter=this.filter}filterPropChanged(t){this.filterDropdown.value=t,r.filter=t}clearFilters(){return this.filter="",r.filter="",this.filterInput&&(this.filterInput.value=""),!1}renderFilter(t){if(this.showFilter)return i("div",{class:"filter"},i("slot",{name:"filter"}),i("dc-filter",{ref:t=>this.filterDropdown=t,filter:t}))}renderQuestion(t){return i("dc-election-question",{question:t.question,responses:t.responses,type:t.question.Type})}renderHelp(){return i("div",{class:"help"},"Filter to local candidates by clicking on the map, search by address, or select ANC or SMD.")}renderBody(){const t=i("ol",null,this.questions.map((t=>i("li",null,this.renderQuestion(t)))));return i("div",{class:"questions"},this.renderFilter(this.filter),void 0!==this.filter&&0!==this.filter.length?t:this.renderHelp())}renderLoader(){return i("dc-loader",null,"Loading survey responses...")}render(){return i(e,null,i("slot",{name:"title"}),this.loading||0===this.questions.length?this.renderLoader():this.renderBody())}static get watchers(){return{filter:["filterPropChanged"]}}};l.style=":host{display:block;font-family:sans-serif}.filter{max-width:800px}.help{margin:1em 0;padding:1em 0 1em 1em;border:thin solid #0f9535;max-width:780px}ol{padding:0;font:italic 2em Georgia;color:#666;list-style-position:outside;padding-left:1.5em}ol dc-election-question{font:normal 16px Helvetica, Arial, Sans-Serif;color:#000}ol li{border-top:thin solid #444;margin-top:1em}input{font-size:1.2em;height:2em;width:12em;margin:0 1em}";export{l as dc_election_survey}